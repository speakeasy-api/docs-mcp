[
  {
    "name": "Create a Mistral chat completion",
    "prompt": "Using the Mistral TypeScript SDK (`@mistralai/mistralai`), write a script in solution.ts that creates a chat completion with a simple user message. Use the SDK's chat.complete method. Install all dependencies first with npm. The MISTRAL_API_KEY environment variable is already set — use process.env.MISTRAL_API_KEY for authentication. Do not run the script.",
    "description": "Mistral AI TypeScript SDK — API references for chat completions, embeddings, models, and function calling",
    "docsSpec": { "url": "https://github.com/mistralai/client-ts", "ref": "main", "docsConfig": { "version": "1", "strategy": { "chunk_by": "h2" } } },
    "category": "sdk-usage",
    "setup": "npm init -y --silent 2>/dev/null",
    "assertions": [
      { "type": "script", "command": "test -f solution.ts", "name": "file-exists" },
      { "type": "script", "command": "grep -q 'mistralai' package.json", "name": "mistral-in-deps" },
      { "type": "script", "command": "grep -qi 'mistral' solution.ts", "name": "imports-mistral" },
      { "type": "script", "command": "grep -q 'chat' solution.ts", "name": "uses-chat-api" },
      { "type": "script", "command": "npx tsx solution.ts 2>&1 | head -20 | grep -qi 'content\\|message\\|response\\|hello'", "name": "runs-successfully", "when_env": "MISTRAL_API_KEY" }
    ]
  },
  {
    "name": "Generate Mistral embeddings",
    "prompt": "Using the Mistral TypeScript SDK (`@mistralai/mistralai`), write a script in solution.ts that generates embeddings for a list of text strings using the embeddings API. Install all dependencies first with npm. The MISTRAL_API_KEY environment variable is already set — use process.env.MISTRAL_API_KEY for authentication. Do not run the script.",
    "docsSpec": { "url": "https://github.com/mistralai/client-ts", "ref": "main", "docsConfig": { "version": "1", "strategy": { "chunk_by": "h2" } } },
    "category": "sdk-usage",
    "setup": "npm init -y --silent 2>/dev/null",
    "assertions": [
      { "type": "script", "command": "test -f solution.ts", "name": "file-exists" },
      { "type": "script", "command": "grep -qi 'mistral' solution.ts", "name": "imports-mistral" },
      { "type": "script", "command": "grep -q 'embed' solution.ts", "name": "uses-embeddings" },
      { "type": "script", "command": "npx tsx solution.ts 2>&1 | head -20 | grep -qi 'embed\\|vector\\|float\\|dimension'", "name": "runs-successfully", "when_env": "MISTRAL_API_KEY" }
    ]
  },
  {
    "name": "List Mistral models",
    "prompt": "Using the Mistral TypeScript SDK (`@mistralai/mistralai`), write a script in solution.ts that lists all available models. Use the SDK's models API. Install all dependencies first with npm. The MISTRAL_API_KEY environment variable is already set — use process.env.MISTRAL_API_KEY for authentication. Do not run the script.",
    "docsSpec": { "url": "https://github.com/mistralai/client-ts", "ref": "main", "docsConfig": { "version": "1", "strategy": { "chunk_by": "h2" } } },
    "category": "sdk-usage",
    "setup": "npm init -y --silent 2>/dev/null",
    "assertions": [
      { "type": "script", "command": "test -f solution.ts", "name": "file-exists" },
      { "type": "script", "command": "grep -qi 'mistral' solution.ts", "name": "imports-mistral" },
      { "type": "script", "command": "grep -q 'model' solution.ts", "name": "uses-models-api" },
      { "type": "script", "command": "npx tsx solution.ts 2>&1 | head -20 | grep -qi 'mistral\\|model\\|id'", "name": "runs-successfully", "when_env": "MISTRAL_API_KEY" }
    ]
  },
  {
    "name": "Mistral function calling",
    "prompt": "Using the Mistral TypeScript SDK (`@mistralai/mistralai`), write a script in solution.ts that demonstrates function/tool calling with a chat completion. Define a simple tool (e.g., a weather lookup function) and pass it to the chat completion. Install all dependencies first with npm. The MISTRAL_API_KEY environment variable is already set — use process.env.MISTRAL_API_KEY for authentication. Do not run the script.",
    "docsSpec": { "url": "https://github.com/mistralai/client-ts", "ref": "main", "docsConfig": { "version": "1", "strategy": { "chunk_by": "h2" } } },
    "category": "advanced",
    "setup": "npm init -y --silent 2>/dev/null",
    "assertions": [
      { "type": "script", "command": "test -f solution.ts", "name": "file-exists" },
      { "type": "script", "command": "grep -qi 'mistral' solution.ts", "name": "imports-mistral" },
      { "type": "script", "command": "grep -q 'tool' solution.ts", "name": "uses-tools" },
      { "type": "script", "command": "npx tsx solution.ts 2>&1 | head -20 | grep -qi 'tool\\|function\\|call\\|weather'", "name": "runs-successfully", "when_env": "MISTRAL_API_KEY" }
    ]
  }
]
